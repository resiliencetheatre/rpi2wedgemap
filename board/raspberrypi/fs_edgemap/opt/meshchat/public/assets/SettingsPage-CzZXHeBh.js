import{_ as c,o as l,c as g,a as e,h as i,u as d}from"./app-CyGGaqSW.js";const _={name:"SettingsPage",data(){return{config:{auto_resend_failed_messages_when_announce_received:null,allow_auto_resending_failed_messages_with_attachments:null,show_suggested_community_interfaces:null}}},mounted(){this.getConfig()},methods:{async getConfig(){try{const n=await window.axios.get("/api/v1/config");this.config=n.data.config}catch(n){console.log(n)}},async updateConfig(n){try{const s=await window.axios.patch("/api/v1/config",n);this.config=s.data.config}catch(s){alert("Failed to save config!"),console.log(s)}},async onAutoResendFailedMessagesWhenAnnounceReceivedChange(){await this.updateConfig({auto_resend_failed_messages_when_announce_received:this.config.auto_resend_failed_messages_when_announce_received})},async onAllowAutoResendingFailedMessagesWithAttachmentsChange(){await this.updateConfig({allow_auto_resending_failed_messages_with_attachments:this.config.allow_auto_resending_failed_messages_with_attachments})},async onShowSuggestedCommunityInterfacesChange(){await this.updateConfig({show_suggested_community_interfaces:this.config.show_suggested_community_interfaces})}}},r={class:"flex flex-col flex-1 overflow-hidden min-w-full sm:min-w-[500px]"},h={class:"overflow-y-auto space-y-2 p-2"},u={class:"bg-white rounded shadow"},f=e("div",{class:"flex border-b border-gray-300 text-gray-700 p-2 font-semibold"},"Failed Messages",-1),m={class:"divide-y text-gray-900"},w={class:"p-2"},y={class:"flex items-start"},v={class:"flex items-center h-5"},x=e("label",{class:"ml-2 text-sm font-medium text-gray-900"},"Auto resend",-1),b=e("div",{class:"text-sm text-gray-700"},"When enabled, failed messages will auto resend when an announce is received from the intended destination.",-1),p={class:"p-2"},C={class:"flex items-start"},A={class:"flex items-center h-5"},R=e("label",{class:"ml-2 text-sm font-medium text-gray-900"},"Allow resending with attachments",-1),S=e("div",{class:"text-sm text-gray-700"},"When enabled, failed messages that have attachments are allowed to auto resend.",-1),W={class:"bg-white rounded shadow"},F=e("div",{class:"flex border-b border-gray-300 text-gray-700 p-2 font-semibold"},"Interfaces",-1),M={class:"divide-y text-gray-900"},k={class:"p-2"},I={class:"flex items-start"},V={class:"flex items-center h-5"},B=e("label",{class:"ml-2 text-sm font-medium text-gray-900"},"Show Community Interfaces",-1),U=e("div",{class:"text-sm text-gray-700"},"When enabled, community interfaces will be shown on the Add Interface page.",-1);function P(n,s,D,E,o,a){return l(),g("div",r,[e("div",h,[e("div",u,[f,e("div",m,[e("div",w,[e("div",y,[e("div",v,[i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.config.auto_resend_failed_messages_when_announce_received=t),onChange:s[1]||(s[1]=(...t)=>a.onAutoResendFailedMessagesWhenAnnounceReceivedChange&&a.onAutoResendFailedMessagesWhenAnnounceReceivedChange(...t)),type:"checkbox",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300"},null,544),[[d,o.config.auto_resend_failed_messages_when_announce_received]])]),x]),b]),e("div",p,[e("div",C,[e("div",A,[i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.config.allow_auto_resending_failed_messages_with_attachments=t),onChange:s[3]||(s[3]=(...t)=>a.onAllowAutoResendingFailedMessagesWithAttachmentsChange&&a.onAllowAutoResendingFailedMessagesWithAttachmentsChange(...t)),type:"checkbox",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300"},null,544),[[d,o.config.allow_auto_resending_failed_messages_with_attachments]])]),R]),S])])]),e("div",W,[F,e("div",M,[e("div",k,[e("div",I,[e("div",V,[i(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>o.config.show_suggested_community_interfaces=t),onChange:s[5]||(s[5]=(...t)=>a.onShowSuggestedCommunityInterfacesChange&&a.onShowSuggestedCommunityInterfacesChange(...t)),type:"checkbox",class:"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-blue-300"},null,544),[[d,o.config.show_suggested_community_interfaces]])]),B]),U])])])])])}const j=c(_,[["render",P]]);export{j as default};
